# AgentaFlow SRO Community Edition - Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# GENERAL SETTINGS
# =============================================================================

# Application environment (development, staging, production)
APP_ENV=development

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Application port
PORT=8080

# =============================================================================
# KUBERNETES CONFIGURATION
# =============================================================================

# Kubernetes cluster configuration
KUBECONFIG_PATH=~/.kube/config
K8S_NAMESPACE=agentaflow-monitoring
K8S_SERVICE_ACCOUNT=agentaflow-scheduler

# Kubernetes GPU scheduler settings
K8S_GPU_SCHEDULER_ENABLED=true
K8S_GPU_SCHEDULER_STRATEGY=least-utilized
K8S_GPU_RESOURCE_NAME=nvidia.com/gpu

# =============================================================================
# GPU ORCHESTRATION
# =============================================================================

# GPU monitoring intervals (seconds)
GPU_METRICS_INTERVAL=5
GPU_HEALTH_CHECK_INTERVAL=30

# GPU scheduling configuration
GPU_SCHEDULER_STRATEGY=least-utilized
GPU_MAX_UTILIZATION_THRESHOLD=90
GPU_MIN_UTILIZATION_THRESHOLD=10

# GPU resource limits
GPU_MEMORY_LIMIT_MB=16384
GPU_TEMPERATURE_THRESHOLD=85
GPU_POWER_LIMIT_WATTS=300

# =============================================================================
# MODEL SERVING OPTIMIZATION
# =============================================================================

# Batch processing configuration
BATCH_MAX_SIZE=32
BATCH_MAX_WAIT_TIME_MS=100

# Caching configuration
CACHE_TTL_MINUTES=5
CACHE_MAX_SIZE_MB=1024
CACHE_ENABLED=true

# Load balancing
LOAD_BALANCER_STRATEGY=round-robin

# =============================================================================
# OBSERVABILITY & MONITORING
# =============================================================================

# Prometheus configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_METRICS_PATH=/metrics
PROMETHEUS_SCRAPE_INTERVAL=15s

# Grafana configuration
GRAFANA_ENABLED=true
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=agentaflow123

# Metrics collection
METRICS_BUFFER_SIZE=10000
METRICS_RETENTION_HOURS=24
METRICS_EXPORT_INTERVAL_SECONDS=15

# =============================================================================
# COST TRACKING
# =============================================================================

# GPU cost configuration (USD per hour)
COST_GPU_A100=3.06
COST_GPU_V100=3.06
COST_GPU_T4=0.526
COST_GPU_RTX=1.00
COST_GPU_GENERIC=1.50

# Cost calculation settings
COST_TRACKING_ENABLED=true
COST_CURRENCY=USD
COST_UTILIZATION_MIN_FACTOR=0.1
COST_UTILIZATION_MAX_FACTOR=1.0

# =============================================================================
# CLOUD PROVIDER INTEGRATION
# =============================================================================

# AWS Configuration (for cost tracking and resource management)
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# Google Cloud Platform
GCP_PROJECT_ID=your_gcp_project
GCP_SERVICE_ACCOUNT_KEY_PATH=path/to/service-account.json

# Azure
AZURE_SUBSCRIPTION_ID=your_azure_subscription
AZURE_CLIENT_ID=your_azure_client_id
AZURE_CLIENT_SECRET=your_azure_client_secret
AZURE_TENANT_ID=your_azure_tenant_id

# =============================================================================
# DATABASE (if using persistent storage)
# =============================================================================

# Database configuration (optional - for persistent metrics storage)
DB_ENABLED=false
DB_TYPE=postgres
DB_HOST=localhost
DB_PORT=5432
DB_NAME=agentaflow
DB_USER=agentaflow_user
DB_PASSWORD=your_db_password
DB_SSL_MODE=disable

# =============================================================================
# SECURITY
# =============================================================================

# API authentication
API_KEY=your_secure_api_key
JWT_SECRET=your_jwt_secret_key
AUTH_ENABLED=false

# TLS configuration
TLS_ENABLED=false
TLS_CERT_PATH=path/to/cert.pem
TLS_KEY_PATH=path/to/key.pem

# =============================================================================
# ALERTS & NOTIFICATIONS
# =============================================================================

# Alert thresholds
ALERT_GPU_HIGH_UTILIZATION=90
ALERT_GPU_HIGH_TEMPERATURE=80
ALERT_GPU_HIGH_MEMORY=85
ALERT_WORKLOAD_QUEUE_SIZE=100

# Notification endpoints (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_FROM=alerts@yourcompany.com
EMAIL_PASSWORD=your_email_password

# =============================================================================
# DEBUGGING & DEVELOPMENT
# =============================================================================

# Debug settings
DEBUG_ENABLED=false
PROFILING_ENABLED=false
TRACE_ENABLED=false

# Performance monitoring
PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD_MS=1000

# =============================================================================
# EXPERIMENTAL FEATURES
# =============================================================================

# Feature flags
FEATURE_AUTO_SCALING=false
FEATURE_PREDICTIVE_SCHEDULING=false
FEATURE_MULTI_TENANT=false
FEATURE_ADVANCED_ANALYTICS=true

# Experimental GPU features
EXPERIMENTAL_MULTI_GPU_WORKLOADS=false
EXPERIMENTAL_GPU_SHARING=false
EXPERIMENTAL_DYNAMIC_BATCHING=true